webpackJsonp([0],{2754:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"LoginApp",function(){return d});var s=r(0),a=(r.n(s),r(34)),u=r(2755),c=r(1),l=(r.n(c),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},d=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s.createElement(a.b,{header:null,content:u.a})}}]),t}(s.Component);d=f([c.observer],d);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"__decorate","E:/Chennai/OspApp/src/Apps/LoginApp.tsx"),__REACT_HOT_LOADER__.register(d,"LoginApp","E:/Chennai/OspApp/src/Apps/LoginApp.tsx"))}()},2755:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return m});var s=r(0),a=(r.n(s),r(3)),u=r(25),c=r(71),l=r(2756),p=r(2757),f=r.n(p),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"render",value:function(){var e=this;return s.createElement("div",{className:f.a.loginForm},s.createElement(a.Grid,{centered:!0},s.createElement(a.Grid.Column,{width:4},s.createElement(a.Segment,{color:"green"},s.createElement(a.Message,{size:"huge"},s.createElement(a.Header,{size:"medium",textAlign:"center"},"O365 Substrate Pulse")),s.createElement(a.Divider,null),s.createElement(a.Button,{primary:!0,fluid:!0,onClick:function(){return e.aadLogin()}},"Login using Azure AD"),s.createElement(a.Button,{primary:!0,fluid:!0,onClick:function(){return e.tempPasswordFlyout.openFlyout()}},"Login using temporary password")))),s.createElement(u.a,{ref:function(t){return e.tempPasswordFlyout=t},headerText:"Temporary password login"},s.createElement(l.a,null)))}},{key:"aadLogin",value:function(){var e=window.location.href.replace(window.location.host+window.location.pathname,window.location.host+"/");c.a.auth.loginFromAad(e)}}]),t}(s.Component);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"Login","E:/Chennai/OspApp/src/Components/Auth/Login.tsx")}()},2756:function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return b});var a=r(0),u=(r.n(a),r(3)),c=r(2),l=r(1),p=(r.n(l),r(250)),f=r(15),d=r(5),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},g=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})},b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),m(t,[{key:"render",value:function(){var e=this;return this.loginStatus===d.f.Ready?a.createElement(f.Redirect,{push:!0,to:"/"}):a.createElement("div",null,a.createElement("p",null,"Note: At least one previous successful logon required for requesting a temporary password."),a.createElement(u.Form,{error:!!this.requestTempPasswordErrorMessage||!!this.loginErrorMessage},a.createElement(u.Label,{circular:!0,color:"orange",size:"big"},"1"),a.createElement(u.Divider,{hidden:!0}),a.createElement(u.Form.Field,{required:!0},a.createElement("label",null,"Enter your Corp. email, and request a temporary password"),a.createElement(u.Form.Input,{onChange:function(t,r){return n(t),e.emailAddress=r.value},error:!!this.requestTempPasswordErrorMessage,disabled:this.passwordSendingStatus===d.f.Ready}),a.createElement(u.Message,{error:!0,content:this.requestTempPasswordErrorMessage}),a.createElement(u.Button,{type:"button",primary:!0,disabled:!this.formIsValid||this.passwordSendingStatus===d.f.Ready,loading:this.passwordSendingStatus===d.f.Waiting,onClick:function(){return e.requestTempPassword()}},"Get password")),this.passwordSendingStatus===d.f.Ready&&a.createElement("div",null,a.createElement(u.Label,{circular:!0,color:"orange",size:"big"},"2"),a.createElement(u.Divider,{hidden:!0}),a.createElement(u.Form.Field,{required:!0},a.createElement("label",null,"Stay on this page, check your mailbox, get the password and login"),a.createElement(u.Form.Input,{onChange:function(t,r){return n(t),e.password=r.value}})),a.createElement(u.Message,{error:!0,content:this.loginErrorMessage}),a.createElement(u.Button,{type:"button",primary:!0,disabled:!this.formIsValid,loading:this.loginStatus===d.f.Waiting,onClick:function(){return e.loginWithTempPassword()}},"Login"))))}},{key:"requestTempPassword",value:function(){return g(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.passwordSendingStatus=d.f.Waiting,this.requestTempPasswordErrorMessage=void 0,e.next=5,p.a.requestTempPassword(encodeURIComponent(this.emailAddress));case 5:this.passwordSendingStatus=d.f.Ready,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.requestTempPasswordErrorMessage=e.t0.response.data,this.passwordSendingStatus=d.f.Error;case 12:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"loginWithTempPassword",value:function(){return g(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loginStatus=d.f.Waiting,this.loginErrorMessage=void 0,e.next=5,this.props.root.auth.tempPasswordLogin(this.emailAddress,this.password);case 5:this.loginStatus=d.f.Ready,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.loginErrorMessage=e.t0.response.data,this.loginStatus=d.f.Error;case 12:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"formIsValid",get:function(){var e=this.emailAddress&&-1!==this.emailAddress.indexOf("@");return this.passwordSendingStatus===d.f.Ready&&(e=e&&!!this.password),e}}]),t}(a.Component);h([c.observable],b.prototype,"emailAddress",void 0),h([c.observable],b.prototype,"password",void 0),h([c.observable],b.prototype,"requestTempPasswordErrorMessage",void 0),h([c.observable],b.prototype,"loginErrorMessage",void 0),h([c.observable],b.prototype,"passwordSendingStatus",void 0),h([c.observable],b.prototype,"loginStatus",void 0),h([c.computed],b.prototype,"formIsValid",null),b=h([Object(l.inject)("root"),l.observer],b);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"__decorate","E:/Chennai/OspApp/src/Components/Nav/TempLogin.tsx"),__REACT_HOT_LOADER__.register(g,"__awaiter","E:/Chennai/OspApp/src/Components/Nav/TempLogin.tsx"),__REACT_HOT_LOADER__.register(b,"TempLogin","E:/Chennai/OspApp/src/Components/Nav/TempLogin.tsx"))}()},2757:function(e,t){e.exports={loginForm:"_36Esmrdp"}}});
//# sourceMappingURL=0.03635e4d78fda79942a0.chunk.js.map